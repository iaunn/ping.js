/* ping.js - v0.2.2 http://github.com/alfg/ping.js */
var Ping=function(a){this.opt=a||{},this.favicon=this.opt.favicon||"/favicon.ico",this.timeout=this.opt.timeout||0,this.logError=this.opt.logError||!1};Ping.prototype.ping=function(a,b,c){function d(a){g.wasSuccess=!0,f.call(g,a)}function e(a){g.wasSuccess=!1,f.call(g,a)}function f(){h&&clearTimeout(h);var a=new Date-i;if("function"==typeof c)return this.wasSuccess?c(null,a):(g.logError&&console.error("error loading resource"),c("error",a))}var g=this;g.wasSuccess=!1,g.img=new Image,g.img.onload=d,g.img.onerror=e,b=b||{},b.timeout=b.timeout||0,b.favicon=b.favicon||"/favicon.ico";var h,i=new Date;b.timeout&&(h=setTimeout(function(){f.call(g,void 0)},b.timeout)),g.img.src=a+b.favicon+"?"+ +new Date},"undefined"!=typeof exports?"undefined"!=typeof module&&module.exports&&(module.exports=Ping):window.Ping=Ping;